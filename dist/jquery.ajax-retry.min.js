!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(p){var y=1;p.ajaxPrefilter(function(e,t,i){i.retry=function(e){return e.timeout&&(this.timeout=e.timeout),e.statusCodes&&(this.statusCodes=e.statusCodes),this.pipe(null,(u=this,f=(a=e).times,d=u.timeout,m=a.onRetry,function(e,t,i){var s=this,o=new p.Deferred,n=u.getResponseHeader("Retry-After");function r(){var e=a.exponential?2*d:a.timeout;p.ajax(s).retry({times:f-1,exponential:a.exponential,timeout:e,statusCodes:a.statusCodes,onRetry:m}).pipe(o.resolve,o.reject)}return 1<f&&(!u.statusCodes||-1<p.inArray(e.status,u.statusCodes))?(n&&(d=isNaN(n)?new Date(n).getTime()-p.now():1e3*parseInt(n,10),(isNaN(d)||d<0)&&(d=u.timeout)),void 0!==d?(m&&(m(y,a.timeout),y+=1),setTimeout(r,d)):r()):o.rejectWith(this,arguments),o}));var u,a,f,d,m}})});